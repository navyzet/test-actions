name: Run tests
#on:
#  push:
#    branches:
#      - '*'
#    tags-ignore:
#      - '*'

on:
  pull_request:
    types: [opened, edited, synchronize, reopened]

env:
  BUILD_NUMBER: ${{ github.run_number }}

jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
      - name: Print github context
        env:
          GITHUB_CONTEXT: ${{ toJSON(github) }}
        run: echo "$GITHUB_CONTEXT"

  build-image:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Build image image:$BUILD_NUMBER"

  tests:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Test 1 image:$BUILD_NUMBER"
      - run: echo "Test 2 image:$BUILD_NUMBER"
    needs: [build-image]
